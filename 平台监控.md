可观测性介绍
ARMS系统监控
Prometheus +Grafana业务监控

![image-20250818083224553](D:\ideaproject\mambo-ai-platform\assets\image-20250818083224553.png)

![image-20250818083902182](D:\ideaproject\mambo-ai-platform\assets\image-20250818083902182.png)

![image-20250818084012952](D:\ideaproject\mambo-ai-platform\assets\image-20250818084012952.png)

## 1.使用阿里云的arms

![image-20250818084435981](D:\ideaproject\mambo-ai-platform\assets\image-20250818084435981.png)

![image-20250818093311561](D:\ideaproject\mambo-ai-platform\assets\image-20250818093311561.png)

```java
-javaagent:D:/AliyunJavaAgent/aliyun-java-agent.jar
-Darms.licenseKey=xxxxxx
-Darms.appName=mambo-ai-platform
```

## 2.Prometheus+grafana

![image-20250818093947599](D:\ideaproject\mambo-ai-platform\assets\image-20250818093947599.png)

![image-20250818094544005](D:\ideaproject\mambo-ai-platform\assets\image-20250818094544005.png)

![image-20250818094946363](D:\ideaproject\mambo-ai-platform\assets\image-20250818094946363.png)

![image-20250818095006165](D:\ideaproject\mambo-ai-platform\assets\image-20250818095006165.png)

![image-20250818095021223](D:\ideaproject\mambo-ai-platform\assets\image-20250818095021223.png)

![image-20250818095529928](D:\ideaproject\mambo-ai-platform\assets\image-20250818095529928.png)

![image-20250818095556435](D:\ideaproject\mambo-ai-platform\assets\image-20250818095556435.png)

![image-20250818100804479](D:\ideaproject\mambo-ai-platform\assets\image-20250818100804479.png)

```java
prometheus.exe --config.file=prometheus.yml
```

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
<dependency>
    <groupId>io.micrometer</groupId>
    <artifactId>micrometer-registry-prometheus</artifactId>
</dependency>
```

![image-20250818103605835](D:\ideaproject\mambo-ai-platform\assets\image-20250818103605835.png)

micrometer类似于slf4j

1.保证指标的维度的粒度够细，能够根据唯一指标检索出唯一值
2.构建缓存来避免重复注册